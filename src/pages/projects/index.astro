---
import { type CollectionEntry, getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";
import Hero from "../../components/Hero:Projects.astro";
import Higlights from "../../components/Highlights.astro";
import { sortByPubDate } from '../../utils';

const projects: CollectionEntry<"projects">[] = (
  await getCollection("projects", project => !project.data.isDraft)
).sort(sortByPubDate);

Astro.response.headers.set(
  "CDN-Cache-Control",
  "public, max-age=45, must-revalidate"
);
---

<Layout>
  <Hero />
  <Higlights {projects} />
</Layout>
