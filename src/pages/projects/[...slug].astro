---
import { type CollectionEntry, getEntry } from "astro:content";
import Layout from "../../layouts/Layout.astro";
import Detail from '../../components/Detail:Project.astro';

const { slug } = Astro.params;

if (!slug) return Astro.redirect("/projects");

const project: CollectionEntry<"projects"> | undefined = await getEntry(
  "projects",
  slug
);

if (!project) return Astro.redirect("/projects");
---

<Layout title={`${project.data.title} | Projects`}>
  <Detail {project} />
</Layout>
