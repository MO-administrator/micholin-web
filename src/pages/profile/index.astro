---
import { getSession } from "auth-astro/server";
import Layout from "@layouts/Layout.astro";
import Profile from "@islands/svelte/profile/index.svelte";

const session = await getSession(Astro.request);
if (!session) return Astro.redirect("/api/auth/signin");
---

<Layout>
  <Profile {session} client:load />
</Layout>
