---
import Form from "./Form.astro";
import FormField from "./FormField.astro";

type FormProps = {
  name: string;
  title: string;
  netlify: boolean;
}
type FieldProps = {
  type: "email" | "text" | "password" | "textarea";
  name: string;
  label?: string;
  required: boolean;
}

const props: FormProps = {
  name: "contact",
  title: "Contact Form",
  netlify: true,
};
const fields: FieldProps[] = [
  {
    type: "email",
    name: "email",
    label: "Email",
    required: true,
  },
  {
    type: "text",
    name: "name",
    label: "Name",
    required: false,
  },
  {
    type: "textarea",
    name: "message",
    label: "Message",
    required: true,
  },
];
---

<Form {...props}>
  <Fragment slot="fields">
    {fields.map(field => <FormField {...field} />)}
  </Fragment>
</Form>
